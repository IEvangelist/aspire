---
import type { HTMLAttributes } from 'astro/types';

interface Source {
	src: string;
	type: 'video/mp4' | 'video/webm';
	title?: string;
}

interface Props extends Omit<HTMLAttributes<'video'>, 'title'> {
	sources: Source[];
	title?: string;
}

const { sources, title, ...rest } = Astro.props as Props;
---
<video
	autoplay
	loop
	muted
	playsinline
	title={title}
	{...rest}
>
	{sources.map(({ src, type, title }) => (
		<source src={src} type={type} title={title} />
	))}
</video>